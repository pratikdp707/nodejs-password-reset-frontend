(this["webpackJsonpnodejs-password-reset-frontend"]=this["webpackJsonpnodejs-password-reset-frontend"]||[]).push([[0],{29:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(24),r=a.n(c),l=(a(29),a(6)),o=a(2),i=a(7),d=a.n(i),j=a(9),m=a(3),b=a.p+"static/media/log-in.9bde519d.png",u=a(8),h=a.n(u),p=a(0),x=function(e){var t=Object(s.useState)(""),a=Object(m.a)(t,2),n=a[0],c=a[1],r=Object(o.f)(),l=function(){var t=Object(j.a)(d.a.mark((function t(a){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s="",t.next=4,h.a.post(e.url+"/forgotPassword",{email:n}).then((function(e){s=e}));case 4:console.log(s),s.data.success&&(alert("Check your email for details"),r("/login"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container text-center mt-5",children:Object(p.jsxs)("form",{className:"mt-5",style:{width:"100%",maxWidth:"500px",margin:"auto"},onSubmit:l,children:[Object(p.jsx)("img",{className:"mb-3",src:b,alt:"",style:{height:"200px",width:"200px"}}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",value:n,onChange:function(e){c(e.target.value)},name:"email",placeholder:"Your Email Address"}),Object(p.jsx)("label",{htmlFor:"email",children:"Email address"})]}),Object(p.jsx)("div",{className:"mb-3 px-5 ",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Submit"})})]})})})},O=function(e){var t=Object(s.useState)(""),a=Object(m.a)(t,2),n=a[0],c=a[1],r=Object(o.f)();Object(s.useEffect)((function(){var t=localStorage.getItem("token");console.log(t),h.a.post(e.url+"/getUser",{},{headers:{"Content-Type":"application/json","auth-token":t}}).then((function(e){console.log(e.data),c(e.data.name)})),console.log(n)}));return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"container text-center mt-5 pt-5",children:[Object(p.jsxs)("h1",{children:["Welcome ",n]}),Object(p.jsx)("button",{className:"btn btn-primary btn-lg mt-5",onClick:function(){localStorage.clear(),r("/login")},children:"Log Out"})]})})},f=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"container text-center mt-5 pt-5",children:[Object(p.jsx)(l.b,{to:"/login",children:Object(p.jsx)("button",{className:"btn btn-primary btn-lg mx-5",children:"Sign In"})}),Object(p.jsx)(l.b,{to:"/signup",children:Object(p.jsx)("button",{className:"btn btn-primary btn-lg mx-5",children:"Sign Up"})})]})})},g=a(10),v=a(11),w=function(e){var t=Object(o.f)(),a=Object(s.useState)({email:"",password:""}),n=Object(m.a)(a,2),c=n[0],r=n[1],i=function(){var a=Object(j.a)(d.a.mark((function a(s){var n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),n="",a.next=4,h.a.post(e.url+"/login",c).then((function(e){n=e}));case 4:console.log(n),console.log(n.data.success),n.data.success?(localStorage.setItem("token",n.data.authToken),t("/home")):alert("Invalid Email or Password");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(e){r(Object(v.a)(Object(v.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container text-center mt-5",children:Object(p.jsxs)("form",{className:"mt-5",style:{width:"100%",maxWidth:"500px",margin:"auto"},onSubmit:i,children:[Object(p.jsx)("img",{className:"mb-3",src:b,alt:"",style:{height:"200px",width:"200px"}}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",value:c.email,onChange:u,name:"email",placeholder:"Your Email Address"}),Object(p.jsx)("label",{htmlFor:"email",children:"Email address"})]}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",value:c.password,onChange:u,name:"password",placeholder:"Your Password"}),Object(p.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(p.jsx)("div",{className:"mb-3 px-5 ",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Log In"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)(l.b,{to:"/signup",children:Object(p.jsx)("h6",{className:"text-secondary",children:"Don't have account ? Sign Up Here!!"})}),Object(p.jsx)(l.b,{to:"/forgotpassword",children:Object(p.jsx)("h6",{className:"text-secondary",children:"Forgot Password ?"})})]})]})})})},N=function(e){var t=Object(s.useState)(""),a=Object(m.a)(t,2),n=a[0],c=a[1],r=Object(o.f)(),l=Object(o.g)(),i=l.id,u=l.token,x=function(){var t=Object(j.a)(d.a.mark((function t(a){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s="",t.next=4,h.a.post(e.url+"/resetPassword",{id:i,token:u,password:n}).then((function(e){s=e,console.log(s)}));case 4:s.data.success&&(alert("Your Password has been changed"),r("/login"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container text-center mt-5",children:Object(p.jsxs)("form",{className:"mt-5",style:{width:"100%",maxWidth:"500px",margin:"auto"},onSubmit:x,children:[Object(p.jsx)("img",{className:"mb-3",src:b,alt:"",style:{height:"200px",width:"200px"}}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",value:n,onChange:function(e){c(e.target.value)},name:"password",placeholder:"Your Email Address"}),Object(p.jsx)("label",{htmlFor:"email",children:"New password"})]}),Object(p.jsx)("div",{className:"mb-3 px-5 ",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Confirm Password"})})]})})})},y=a.p+"static/media/sign-up.d26ef7fc.png",k=function(e){var t=Object(o.f)(),a=Object(s.useState)({name:"",email:"",password:""}),n=Object(m.a)(a,2),c=n[0],r=n[1],i=function(){var a=Object(j.a)(d.a.mark((function a(s){var n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),n="",a.next=4,h.a.post(e.url+"/createUser",c).then((function(e){n=e}));case 4:console.log(n.data.success),n.data.success?(localStorage.setItem("token",n.data.authToken),t("/login")):alert("Invalid Email or Password");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),b=function(e){r(Object(v.a)(Object(v.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container text-center mt-5",children:Object(p.jsxs)("form",{className:"mt-5",style:{width:"100%",maxWidth:"500px",margin:"auto"},onSubmit:i,children:[Object(p.jsx)("img",{className:"mb-3",src:y,alt:"",style:{height:"200px",width:"200px"}}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:c.name,onChange:b,placeholder:"Your Name"}),Object(p.jsx)("label",{htmlFor:"name",children:"Name"})]}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:c.email,onChange:b,placeholder:"Your Email Address"}),Object(p.jsx)("label",{htmlFor:"email",children:"Email address"})]}),Object(p.jsxs)("div",{className:"mb-3 form-floating",children:[Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:c.password,onChange:b,placeholder:"Your Password"}),Object(p.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(p.jsx)("div",{className:"mb-3 px-5 ",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Sign Up"})}),Object(p.jsx)("div",{children:Object(p.jsx)(l.b,{to:"/login",children:Object(p.jsx)("h6",{className:"text-secondary",children:"Already having account ? Sign In Here!!"})})})]})})})};var S=function(){var e="https://nodejs-tasks-all.herokuapp.com/api/password-reset-task";return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",element:Object(p.jsx)(f,{})}),Object(p.jsx)(o.a,{exact:!0,path:"/login",element:Object(p.jsx)(w,{url:e})}),Object(p.jsx)(o.a,{exact:!0,path:"/signup",element:Object(p.jsx)(k,{url:e})}),Object(p.jsx)(o.a,{exact:!0,path:"/home",element:Object(p.jsx)(O,{url:e})}),Object(p.jsx)(o.a,{exact:!0,path:"/forgotpassword",element:Object(p.jsx)(x,{url:e})}),Object(p.jsx)(o.a,{exact:!0,path:"/resetpassword/:id/:token",element:Object(p.jsx)(N,{url:e})})]})})})};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.3925bfe6.chunk.js.map